
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุฑุงุณู ุนุจุฏ ุงูุนุฒูุฒ ูููุงุชุณุงุจ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="shortcut icon" href="whatsapp-icon.png" type="image/png">
</head>
<body>
    <div class="page-wrapper"> 
        <div class="container">
            
            <h1 class="app-heading">ูุฑุงุณู ุงููุงุชุณุงุจ ุงููุจุงุดุฑ</h1>
            <p class="description">ุฃุณุฑุน ุทุฑููุฉ ููุชูุงุตูุ ุฃุฏุฎู ุงูุฑูู ูุงุจุฏุฃ ุงููุญุงุฏุซุฉ ููุฑุงู.</p>

            <button id="installButton" class="install-prompt-button" style="display: none;">
                ๐ฒ ุชุซุจูุช ุงูุชุทุจูู
            </button>
            
            <div class="input-group">
                <label for="countrySearch">ุงุฎุชุฑ ุงูุฏููุฉ ุฃู ุงุจุญุซ ุนููุง:</label>
                <input list="countryList" id="countrySearch" placeholder="ุงุจุญุซ ุนู ุงุณู ุงูุฏููุฉ ุฃู ุฑูุฒูุง" oninput="handleCountrySearch(this.value)">
                
                <datalist id="countryList">
                    </datalist>
            </div>

            <div class="phone-input-container">
                <div class="country-code-wrapper">
                    <span id="currentFlag" class="flag-icon flag-icon-sd"></span>
                    <input type="tel" id="codeInput" value="+249" inputmode="numeric" placeholder="+XXX" oninput="updateFlagByCode(this.value)">
                </div>
                <input type="tel" id="phoneInput" placeholder="ุฃุฏุฎู ุงูุฑูู ุงููุญูู (ุจุฏูู ุงูุฑูุฒ)" inputmode="numeric">
            </div>

            <button onclick="openWhatsApp()">
                <img src="whatsapp-icon.png" alt="WhatsApp Icon" class="icon"> ุจุฏุก ุงููุญุงุฏุซุฉ ุงูุขู
            </button>

            <p class="note prominent-note">ูุฑุฌู ุงูุชุฃูุฏ ูู ุตุญุฉ ุฑูุฒ ุงูุฏููุฉ ุงููุฏุฎู.</p>

            <div class="share-section">
                <p class="share-title">ุดุงุฑู ุงูุชุทุจูู ูุน ุฃุตุฏูุงุฆู:</p>
                <div class="share-icons">
                    <button class="share-btn whatsapp" onclick="shareApp('whatsapp')">
                        <i class="fab fa-whatsapp"></i>
                    </button>
                    <button class="share-btn messenger" onclick="shareApp('messenger')">
                        <i class="fab fa-facebook-messenger"></i>
                    </button>
                    <button class="share-btn facebook" onclick="shareApp('facebook')">
                        <i class="fab fa-facebook-f"></i>
                    </button>
                </div>
            </div>
        </div>

        <footer class="app-footer">
            <a href="https://linktr.ee/abdul3ziz95" target="_blank" class="contact-link bold-link">
                ๐ ุงุชุตู ุจู
            </a>
            <p class="copyright-text">ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ 2025. <span class="owner-name">Abdul3ziz95</span></p>
        </footer>
    </div>
    
    <script>
        // ุฑุงุจุท ุงูุชุทุจูู ูููุดุงุฑูุฉ
        const APP_LINK = 'https://abdul3ziz95.github.io/zool/';
        const SHARE_MESSAGE = 'ุฌุฑุจูุง ูุฑุงุณู ุงููุงุชุณุงุจ ุงูุณูุฏุงูู ุงูููุฑู! ุฃุณุฑุน ุทุฑููุฉ ูุจุฏุก ูุญุงุฏุซุฉ ุฏูู ุญูุธ ุงูุฑูู. ุงูุฑุงุจุท: ' + APP_LINK;

        function shareApp(platform) {
            let url = '';
            switch (platform) {
                case 'whatsapp':
                    url = `https://wa.me/?text=${encodeURIComponent(SHARE_MESSAGE)}`;
                    break;
                case 'messenger':
                    // **ุฅุตูุงุญ Messenger**
                    const encodedLink = encodeURIComponent(APP_LINK);
                    url = `fb-messenger://share?link=${encodedLink}&text=${encodeURIComponent(SHARE_MESSAGE)}`;
                    break;
                case 'facebook':
                    url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(APP_LINK)}`;
                    break;
                default:
                    return;
            }
            window.open(url, '_blank', 'width=600,height=400');
        }

        // ----------------------------------------------------
        // ** ูุงุฆูุฉ ุฏูู ุงูุนุงูู (ููุฎููููุฉ ูุถูุงู ุงูุณุฑุนุฉ)**
        // ************************************************
        const countryData = [
            { name: 'ุฃูุบุงูุณุชุงู', code: '93', iso: 'af' }, { name: 'ุฃูุจุงููุง', code: '355', iso: 'al' }, 
            { name: 'ุงูุฌุฒุงุฆุฑ', code: '213', iso: 'dz' }, { name: 'ุณุงููุง ุงูุฃูุฑูููุฉ', code: '1684', iso: 'as' },
            { name: 'ุฃูุฏูุฑุง', code: '376', iso: 'ad' }, { name: 'ุฃูุบููุง', code: '244', iso: 'ao' },
            { name: 'ุฃูุบูููุง', code: '1264', iso: 'ai' }, { name: 'ุฃูุชุงุฑูุชููุง', code: '672', iso: 'aq' },
            { name: 'ุฃูุชูุบูุง ูุจุงุฑุจูุฏุง', code: '1268', iso: 'ag' }, { name: 'ุงูุฃุฑุฌูุชูู', code: '54', iso: 'ar' },
            { name: 'ุฃุฑููููุง', code: '374', iso: 'am' }, { name: 'ุฃุฑูุจุง', code: '297', iso: 'aw' },
            { name: 'ุฃุณุชุฑุงููุง', code: '61', iso: 'au' }, { name: 'ุงูููุณุง', code: '43', iso: 'at' },
            { name: 'ุฃุฐุฑุจูุฌุงู', code: '994', iso: 'az' }, { name: 'ุงูุจุงูุงูุงุณ', code: '1242', iso: 'bs' },
            { name: 'ุงูุจุญุฑูู', code: '973', iso: 'bh' }, { name: 'ุจูุบูุงุฏูุด', code: '880', iso: 'bd' },
            { name: 'ุจุงุฑุจุงุฏูุณ', code: '1246', iso: 'bb' }, { name: 'ุจููุงุฑูุณูุง', code: '375', iso: 'by' },
            { name: 'ุจูุฌููุง', code: '32', iso: 'be' }, { name: 'ุจููุฒ', code: '501', iso: 'bz' },
            { name: 'ุจููู', code: '229', iso: 'bj' }, { name: 'ุจุฑููุฏุง', code: '1441', iso: 'bm' },
            { name: 'ุจูุชุงู', code: '975', iso: 'bt' }, { name: 'ุจูููููุง', code: '591', iso: 'bo' },
            { name: 'ุงูุจูุณูุฉ ูุงููุฑุณู', code: '387', iso: 'ba' }, { name: 'ุจูุชุณูุงูุง', code: '267', iso: 'bw' },
            { name: 'ุงูุจุฑุงุฒูู', code: '55', iso: 'br' }, { name: 'ุงููุญูุท ุงูููุฏู ุงูุจุฑูุทุงูู', code: '246', iso: 'io' },
            { name: 'ุฌุฒุฑ ุงูุนุฐุฑุงุก ุงูุจุฑูุทุงููุฉ', code: '1284', iso: 'vg' }, { name: 'ุจุฑููุงู', code: '673', iso: 'bn' },
            { name: 'ุจูุบุงุฑูุง', code: '359', iso: 'bg' }, { name: 'ุจูุฑูููุง ูุงุณู', code: '226', iso: 'bf' },
            { name: 'ุจูุฑููุฏู', code: '257', iso: 'bi' }, { name: 'ููุจูุฏูุง', code: '855', iso: 'kh' },
            { name: 'ุงููุงููุฑูู', code: '237', iso: 'cm' }, { name: 'ููุฏุง', code: '1', iso: 'ca' },
            { name: 'ุงูุฑุฃุณ ุงูุฃุฎุถุฑ', code: '238', iso: 'cv' }, { name: 'ุฌุฒุฑ ูุงููุงู', code: '1345', iso: 'ky' },
            { name: 'ุฅูุฑูููุง ุงููุณุทู', code: '236', iso: 'cf' }, { name: 'ุชุดุงุฏ', code: '235', iso: 'td' },
            { name: 'ุชุดููู', code: '56', iso: 'cl' }, { name: 'ุงูุตูู', code: '86', iso: 'cn' },
            { name: 'ุฌุฒูุฑุฉ ุงููุฑูุณูุงุณ', code: '61', iso: 'cx' }, { name: 'ุฌุฒุฑ ููููุณ', code: '61', iso: 'cc' },
            { name: 'ูููููุจูุง', code: '57', iso: 'co' }, { name: 'ุฌุฒุฑ ุงูููุฑ', code: '269', iso: 'km' },
            { name: 'ุงููููุบู (ุจุฑุงุฒุงููู)', code: '242', iso: 'cg' }, { name: 'ุงููููุบู (ูููุดุงุณุง)', code: '243', iso: 'cd' },
            { name: 'ุฌุฒุฑ ููู', code: '682', iso: 'ck' }, { name: 'ููุณุชุงุฑููุง', code: '506', iso: 'cr' },
            { name: 'ูุฑูุงุชูุง', code: '385', iso: 'hr' }, { name: 'ููุจุง', code: '53', iso: 'cu' },
            { name: 'ููุฑุงุณุงู', code: '599', iso: 'cw' }, { name: 'ูุจุฑุต', code: '357', iso: 'cy' },
            { name: 'ุฌูููุฑูุฉ ุงูุชุดูู', code: '420', iso: 'cz' }, { name: 'ุงูุฏููุงุฑู', code: '45', iso: 'dk' },
            { name: 'ุฌูุจูุชู', code: '253', iso: 'dj' }, { name: 'ุฏููููููุง', code: '1767', iso: 'dm' },
            { name: 'ุฌูููุฑูุฉ ุงูุฏููููููุงู', code: '1809', iso: 'do' },
            { name: 'ุงูุฅููุงุฏูุฑ', code: '593', iso: 'ec' }, { name: 'ูุตุฑ', code: '20', iso: 'eg' },
            { name: 'ุงูุณููุงุฏูุฑ', code: '503', iso: 'sv' }, { name: 'ุบูููุง ุงูุงุณุชูุงุฆูุฉ', code: '240', iso: 'gq' },
            { name: 'ุฅุฑูุชุฑูุง', code: '291', iso: 'er' }, { name: 'ุฅุณุชูููุง', code: '372', iso: 'ee' },
            { name: 'ุฅุซููุจูุง', code: '251', iso: 'et' }, { name: 'ุฌุฒุฑ ููููุงูุฏ', code: '500', iso: 'fk' },
            { name: 'ุฌุฒุฑ ูุงุฑู', code: '298', iso: 'fo' }, { name: 'ููุฌู', code: '679', iso: 'fj' },
            { name: 'ููููุฏุง', code: '358', iso: 'fi' }, { name: 'ูุฑูุณุง', code: '33', iso: 'fr' },
            { name: 'ุบูุงูุง ุงููุฑูุณูุฉ', code: '594', iso: 'gf' }, { name: 'ุจูููููุฒูุง ุงููุฑูุณูุฉ', code: '689', iso: 'pf' },
            { name: 'ุงูููุงุทู ุงูุฌููุจูุฉ ุงููุฑูุณูุฉ', code: '262', iso: 'tf' }, { name: 'ุงูุบุงุจูู', code: '241', iso: 'ga' },
            { name: 'ุบุงูุจูุง', code: '220', iso: 'gm' }, { name: 'ุฌูุฑุฌูุง', code: '995', iso: 'ge' },
            { name: 'ุฃููุงููุง', code: '49', iso: 'de' }, { name: 'ุบุงูุง', code: '233', iso: 'gh' },
            { name: 'ุฌุจู ุทุงุฑู', code: '350', iso: 'gi' }, { name: 'ุงููููุงู', code: '30', iso: 'gr' },
            { name: 'ุฌุฑูููุงูุฏ', code: '299', iso: 'gl' }, { name: 'ุบุฑููุงุฏุง', code: '1473', iso: 'gd' },
            { name: 'ุฌูุงุฏููุจ', code: '590', iso: 'gp' }, { name: 'ุบูุงู', code: '1671', iso: 'gu' },
            { name: 'ุบูุงุชููุงูุง', code: '502', iso: 'gt' }, { name: 'ุบูุฑูุฒู', code: '44', iso: 'gg' },
            { name: 'ุบูููุง', code: '224', iso: 'gn' }, { name: 'ุบูููุง ุจูุณุงู', code: '245', iso: 'gw' },
            { name: 'ุบูุงูุง', code: '592', iso: 'gy' }, { name: 'ูุงูุชู', code: '509', iso: 'ht' },
            { name: 'ููุฑุฏ ูุฌุฒุฑ ูุงูุฏููุงูุฏ', code: '672', iso: 'hm' }, { name: 'ุงููุงุชููุงู', code: '379', iso: 'va' },
            { name: 'ููุฏูุฑุงุณ', code: '504', iso: 'hn' }, { name: 'ูููุบ ูููุบ', code: '852', iso: 'hk' },
            { name: 'ุงููุฌุฑ', code: '36', iso: 'hu' }, { name: 'ุฃูุณููุฏุง', code: '354', iso: 'is' },
            { name: 'ุงูููุฏ', code: '91', iso: 'in' }, { name: 'ุฅูุฏูููุณูุง', code: '62', iso: 'id' },
            { name: 'ุฅูุฑุงู', code: '98', iso: 'ir' }, { name: 'ุงูุนุฑุงู', code: '964', iso: 'iq' },
            { name: 'ุฃูุฑููุฏุง', code: '353', iso: 'ie' }, { name: 'ุฌุฒูุฑุฉ ูุงู', code: '44', iso: 'im' },
            { name: 'ุฅุณุฑุงุฆูู', code: '972', iso: 'il' }, { name: 'ุฅูุทุงููุง', code: '39', iso: 'it' },
            { name: 'ุณุงุญู ุงูุนุงุฌ', code: '225', iso: 'ci' }, { name: 'ุฌุงูุงููุง', code: '1876', iso: 'jm' },
            { name: 'ุงููุงุจุงู', code: '81', iso: 'jp' }, { name: 'ุฌูุฑุณู', code: '44', iso: 'je' },
            { name: 'ุงูุฃุฑุฏู', code: '962', iso: 'jo' }, { name: 'ูุงุฒุงุฎุณุชุงู', code: '7', iso: 'kz' },
            { name: 'ููููุง', code: '254', iso: 'ke' }, { name: 'ููุฑูุจุงุชู', code: '686', iso: 'ki' },
            { name: 'ููุฑูุง ุงูุดูุงููุฉ', code: '850', iso: 'kp' }, { name: 'ููุฑูุง ุงูุฌููุจูุฉ', code: '82', iso: 'kr' },
            { name: 'ุงููููุช', code: '965', iso: 'kw' }, { name: 'ููุฑุบูุฒุณุชุงู', code: '996', iso: 'kg' },
            { name: 'ูุงูุณ', code: '856', iso: 'la' }, { name: 'ูุงุชููุง', code: '371', iso: 'lv' },
            { name: 'ูุจูุงู', code: '961', iso: 'lb' }, { name: 'ููุณูุชู', code: '266', iso: 'ls' },
            { name: 'ููุจูุฑูุง', code: '231', iso: 'lr' }, { name: 'ููุจูุง', code: '218', iso: 'ly' },
            { name: 'ููุฎุชูุดุชุงูู', code: '423', iso: 'li' }, { name: 'ููุชูุงููุง', code: '370', iso: 'lt' },
            { name: 'ูููุณูุจูุฑุบ', code: '352', iso: 'lu' }, { name: 'ูุงูุงู', code: '853', iso: 'mo' },
            { name: 'ููุฏูููุง', code: '389', iso: 'mk' }, { name: 'ูุฏุบุดูุฑ', code: '261', iso: 'mg' },
            { name: 'ูุงูุงูู', code: '265', iso: 'mw' }, { name: 'ูุงููุฒูุง', code: '60', iso: 'my' },
            { name: 'ุฌุฒุฑ ุงููุงูุฏูู', code: '960', iso: 'mv' }, { name: 'ูุงูู', code: '223', iso: 'ml' },
            { name: 'ูุงูุทุง', code: '356', iso: 'mt' }, { name: 'ุฌุฒุฑ ูุงุฑุดุงู', code: '692', iso: 'mh' },
            { name: 'ูุงุฑุชูููู', code: '596', iso: 'mq' }, { name: 'ููุฑูุชุงููุง', code: '222', iso: 'mr' },
            { name: 'ููุฑูุดููุณ', code: '230', iso: 'mu' }, { name: 'ูุงููุช', code: '262', iso: 'yt' },
            { name: 'ุงูููุณูู', code: '52', iso: 'mx' }, { name: 'ูููุฑูููุฒูุง', code: '691', iso: 'fm' },
            { name: 'ูููุฏููุง', code: '373', iso: 'md' }, { name: 'ูููุงูู', code: '377', iso: 'mc' },
            { name: 'ููุบูููุง', code: '976', iso: 'mn' }, { name: 'ุงูุฌุจู ุงูุฃุณูุฏ', code: '382', iso: 'me' },
            { name: 'ูููุชุณูุฑุงุช', code: '1664', iso: 'ms' }, { name: 'ุงููุบุฑุจ', code: '212', iso: 'ma' },
            { name: 'ููุฒูุจูู', code: '258', iso: 'mz' }, { name: 'ููุงููุงุฑ', code: '95', iso: 'mm' },
            { name: 'ูุงููุจูุง', code: '264', iso: 'na' }, { name: 'ูุงูุฑู', code: '674', iso: 'nr' },
            { name: 'ููุจุงู', code: '977', iso: 'np' }, { name: 'ููููุฏุง', code: '31', iso: 'nl' },
            { name: 'ูุงููุฏูููุง ุงูุฌุฏูุฏุฉ', code: '687', iso: 'nc' }, { name: 'ูููุฒูููุฏุง', code: '64', iso: 'nz' },
            { name: 'ูููุงุฑุงุบูุง', code: '505', iso: 'ni' }, { name: 'ุงูููุฌุฑ', code: '227', iso: 'ne' },
            { name: 'ููุฌูุฑูุง', code: '234', iso: 'ng' }, { name: 'ูููู', code: '683', iso: 'nu' },
            { name: 'ุฌุฒูุฑุฉ ููุฑูููู', code: '672', iso: 'nf' }, { name: 'ุฌุฒุฑ ูุงุฑูุงูุง ุงูุดูุงููุฉ', code: '1670', iso: 'mp' },
            { name: 'ุงููุฑููุฌ', code: '47', iso: 'no' }, { name: 'ุนููุงู', code: '968', iso: 'om' },
            { name: 'ุจุงูุณุชุงู', code: '92', iso: 'pk' }, { name: 'ุจุงูุงู', code: '680', iso: 'pw' },
            { name: 'ููุณุทูู', code: '970', iso: 'ps' }, { name: 'ุจููุง', code: '507', iso: 'pa' },
            { name: 'ุจุงุจูุง ุบูููุง ุงูุฌุฏูุฏุฉ', code: '675', iso: 'pg' }, { name: 'ุจุงุฑุงุบูุงู', code: '595', iso: 'py' },
            { name: 'ุจูุฑู', code: '51', iso: 'pe' }, { name: 'ุงูููุจูู', code: '63', iso: 'ph' },
            { name: 'ุจูุชููุฑู', code: '64', iso: 'pn' }, { name: 'ุจูููุฏุง', code: '48', iso: 'pl' },
            { name: 'ุงูุจุฑุชุบุงู', code: '351', iso: 'pt' }, { name: 'ุจูุฑุชูุฑููู', code: '1787', iso: 'pr' },
            { name: 'ูุทุฑ', code: '974', iso: 'qa' }, { name: 'ุฑูููููู', code: '262', iso: 're' },
            { name: 'ุฑููุงููุง', code: '40', iso: 'ro' }, { name: 'ุฑูุณูุง', code: '7', iso: 'ru' },
            { name: 'ุฑูุงูุฏุง', code: '250', iso: 'rw' }, { name: 'ุณุงูุช ุจุงุฑุซ', code: '590', iso: 'bl' },
            { name: 'ุณุงูุช ูููููุง', code: '290', iso: 'sh' }, { name: 'ุณุงูุช ููุชุณ ูููููุณ', code: '1869', iso: 'kn' },
            { name: 'ุณุงูุช ููุณูุง', code: '1758', iso: 'lc' }, { name: 'ุณุงูุช ูุงุฑุชู (ุงููุฑูุณูุฉ)', code: '590', iso: 'mf' },
            { name: 'ุณุงูุช ุจููุฑ ููููููู', code: '508', iso: 'pm' }, { name: 'ุณุงูุช ููุณูุช ูุงูุบุฑููุงุฏูู', code: '1784', iso: 'vc' },
            { name: 'ุณุงููุง', code: '685', iso: 'ws' }, { name: 'ุณุงู ูุงุฑููู', code: '378', iso: 'sm' },
            { name: 'ุณุงู ุชููู ูุจุฑููุณูุจู', code: '239', iso: 'st' }, { name: 'ุงูุณุนูุฏูุฉ', code: '966', iso: 'sa' },
            { name: 'ุงูุณูุบุงู', code: '221', iso: 'sn' }, { name: 'ุตุฑุจูุง', code: '381', iso: 'rs' },
            { name: 'ุณูุดู', code: '248', iso: 'sc' }, { name: 'ุณูุฑุงูููู', code: '232', iso: 'sl' },
            { name: 'ุณูุบุงููุฑุฉ', code: '65', iso: 'sg' }, { name: 'ุณููุช ูุงุฑุชู (ุงูููููุฏูุฉ)', code: '1721', iso: 'sx' },
            { name: 'ุณูููุงููุง', code: '421', iso: 'sk' }, { name: 'ุณููููููุง', code: '386', iso: 'si' },
            { name: 'ุฌุฒุฑ ุณูููุงู', code: '677', iso: 'sb' }, { name: 'ุงูุตููุงู', code: '252', iso: 'so' },
            { name: 'ุฌููุจ ุฃูุฑูููุง', code: '27', iso: 'za' }, { name: 'ุฌูุฑุฌูุง ุงูุฌููุจูุฉ', code: '500', iso: 'gs' },
            { name: 'ุฌููุจ ุงูุณูุฏุงู', code: '211', iso: 'ss' }, { name: 'ุฅุณุจุงููุง', code: '34', iso: 'es' },
            { name: 'ุณุฑููุงููุง', code: '94', iso: 'lk' }, { name: 'ุงูุณูุฏุงู', code: '249', iso: 'sd' },
            { name: 'ุณูุฑููุงู', code: '597', iso: 'sr' }, { name: 'ุณูุงูุจุงุฑุฏ', code: '47', iso: 'sj' },
            { name: 'ุณูุงุฒููุงูุฏ', code: '268', iso: 'sz' }, { name: 'ุงูุณููุฏ', code: '46', iso: 'se' },
            { name: 'ุณููุณุฑุง', code: '41', iso: 'ch' }, { name: 'ุณูุฑูุง', code: '963', iso: 'sy' },
            { name: 'ุชุงููุงู', code: '886', iso: 'tw' }, { name: 'ุทุงุฌููุณุชุงู', code: '992', iso: 'tj' },
            { name: 'ุชูุฒุงููุง', code: '255', iso: 'tz' }, { name: 'ุชุงููุงูุฏ', code: '66', iso: 'th' },
            { name: 'ุชูููุฑ ุงูุดุฑููุฉ', code: '670', iso: 'tl' }, { name: 'ุชูุบู', code: '228', iso: 'tg' },
            { name: 'ุชููููุงู', code: '690', iso: 'tk' }, { name: 'ุชููุบุง', code: '676', iso: 'to' },
            { name: 'ุชุฑูููุฏุงุฏ ูุชูุจุงุบู', code: '1868', iso: 'tt' }, { name: 'ุชููุณ', code: '216', iso: 'tn' },
            { name: 'ุชุฑููุง', code: '90', iso: 'tr' }, { name: 'ุชุฑููุงูุณุชุงู', code: '993', iso: 'tm' },
            { name: 'ุฌุฒุฑ ุชุฑูุณ ููุงูููุณ', code: '1649', iso: 'tc' }, { name: 'ุชููุงูู', code: '688', iso: 'tv' },
            { name: 'ุฌุฒุฑ ุงูุนุฐุฑุงุก ุงูุฃูุฑูููุฉ', code: '1340', iso: 'vi' }, { name: 'ุฃูุบูุฏุง', code: '256', iso: 'ug' },
            { name: 'ุฃููุฑุงููุง', code: '380', iso: 'ua' }, { name: 'ุงูุฅูุงุฑุงุช', code: '971', iso: 'ae' },
            { name: 'ุงูููููุฉ ุงููุชุญุฏุฉ', code: '44', iso: 'gb' }, { name: 'ุงูููุงูุงุช ุงููุชุญุฏุฉ', code: '1', iso: 'us' },
            { name: 'ุฃูุฑูุบูุงู', code: '598', iso: 'uy' }, { name: 'ุฃูุฒุจูุณุชุงู', code: '998', iso: 'uz' },
            { name: 'ูุงููุงุชู', code: '678', iso: 'vu' }, { name: 'ููุฒูููุง', code: '58', iso: 've' },
            { name: 'ููุชูุงู', code: '84', iso: 'vn' }, { name: 'ูุงููุณ ูููุชููุง', code: '681', iso: 'wf' },
            { name: 'ุงูุตุญุฑุงุก ุงูุบุฑุจูุฉ', code: '212', iso: 'eh' }, { name: 'ุงูููู', code: '967', iso: 'ye' },
            { name: 'ุฒุงูุจูุง', code: '260', iso: 'zm' }, { name: 'ุฒููุจุงุจูู', code: '263', iso: 'zw' },
            { name: 'ุขูุณููุฏุง', code: '354', iso: 'is' }, { name: 'ููุณููู', code: '383', iso: 'xk' }
        ];
        
        // ************************************************
        
        let deferredPrompt; 
        const installButton = document.getElementById('installButton');
        const countryDatalist = document.getElementById('countryList');
        const countrySearchInput = document.getElementById('countrySearch');
        const currentFlagSpan = document.getElementById('currentFlag');
        const codeInput = document.getElementById('codeInput'); 
        const phoneInput = document.getElementById('phoneInput'); 

        // ************** ููุทู ุงูุฏุนู ูุงูุชูุงุนู ูุน ุงูุฏูู **************
        
        function populateCountries() {
            countryData.sort((a, b) => a.name.localeCompare(b.name, 'ar'));
            countryData.forEach(country => {
                const option = document.createElement('option');
                option.value = `${country.name} (+${country.code})`;
                option.setAttribute('data-code', country.code);
                option.setAttribute('data-iso', country.iso);
                countryDatalist.appendChild(option);
            });
        }

        function updateFlagAndCode(code, iso) {
            codeInput.value = `+${code}`;
            currentFlagSpan.className = `flag-icon flag-icon-${iso.toLowerCase()}`;
        }
        
        function updateFlagByCode(inputCode) {
            const cleanedCode = String(inputCode).replace('+', '').trim();
            const country = countryData.find(c => c.code === cleanedCode);
            
            if (country) {
                updateFlagAndCode(country.code, country.iso);
            } else {
                // ูู ุญุงูุฉ ุนุฏู ุชุทุงุจู ุงูููุฏุ ุฅุธูุงุฑ ุนูู ุงูุชุฑุงุถู
                currentFlagSpan.className = `flag-icon`; 
            }
        }
        
        function handleCountrySearch(inputValue) {
            const match = countryData.find(c => {
                const displayValue = `${c.name} (+${c.code})`;
                return displayValue === inputValue; 
            });

            if (match) {
                updateFlagAndCode(match.code, match.iso);
            }
        }

        // ************** ููุทู ุงููุงุชุณุงุจ **************

        function openWhatsApp() {
            const code = codeInput.value.replace('+', '').trim(); 
            const localNumber = phoneInput.value.trim().replace(/[\s+-]/g, '');

            if (!code || code.length < 1) {
                alert('ุงูุฑุฌุงุก ุฅุฏุฎุงู ุฑูุฒ ุงูุฏููุฉ ูุฑูู ุงููุงุชู.');
                return;
            }
            
            if (!localNumber || localNumber.length < 6) {
                alert('ุงูุฑุฌุงุก ุฅุฏุฎุงู ุฑูู ูุงุชู ูุญูู ุตุงูุญ.');
                return;
            }

            const fullNumber = code + localNumber;
            const whatsappLink = 'https://wa.me/' + fullNumber;
            window.open(whatsappLink, '_blank');
        }

        // ************** ููุทู ุงูุชุซุจูุช (PWA) **************
        
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                installButton.style.display = 'block';
            });
        }
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e; 
        });
        installButton.addEventListener('click', (e) => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        installButton.style.display = 'none'; 
                    }
                    deferredPrompt = null; 
                });
            } else {
                alert('ูุชุซุจูุช ุงูุชุทุจูู: ุงูุชุญ ูุงุฆูุฉ ุงููุชุตูุญ (โฎ) ูุงุฎุชุฑ "ุงูุชุซุจูุช" ุฃู "ุฅุถุงูุฉ ุฅูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ".');
            }
        });
        
        // ************** ุงูุชุดุบูู ุนูุฏ ุงูุชุญููู **************

        function initializeApp() {
            populateCountries();
            // ุชุญุฏูุฏ ุงูุณูุฏุงู ูุงูุชุฑุงุถู ุนูุฏ ุงูุชุญููู
            updateFlagAndCode('249', 'sd');
        }

        initializeApp();
        
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // ูุฑุฌู ุชุนุฏูู ุงููุณุงุฑ ุฅุฐุง ูุงู ููู sw.js ูู ูุณุงุฑ ูุฎุชูู
                navigator.serviceWorker.register('/zool/sw.js', { scope: '/zool/' }) 
                    .then((registration) => { console.log('ServiceWorker registration successful with scope: ', registration.scope); })
                    .catch((err) => { console.log('ServiceWorker registration failed: ', err); });
            });
        }
    </script>
</body>
</html>
